<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:margin-top="http://www.w3.org/1999/xhtml">
<head>
  <title>Articles</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<h1>Articles</h1>
<table>
  <thead>
  <tr>
    <th>ID</th>
    <th>Title</th>
    <th>Description</th>
    <th>Content</th>
  </tr>
  </thead>
  <tbody id="article-table-body">
  </tbody>
</table>

<script>
  $(document).ready(function() {
    // Make a GET request to retrieve all the articles from the backend
    $.ajax({
      url: "/articles",
      type: "GET",
      dataType: "json",
      success: function(data) {
        // Iterate over the list of articles and add each one to the table
        $.each(data, function(index, article) {
          var row = $("<tr>")
                  .append($("<td>").text(article.id))
                  .append($("<td>").text(article.title))
                  .append($("<td>").text(article.description))
                  .append($("<td>").text(article.content));
          $("#article-table-body").append(row);
        });
      },
      error: function(jqXHR, textStatus, errorThrown) {
        console.error("Error retrieving articles: " + textStatus + " - " + errorThrown);
      }
    });
  });
</script>
</body>
</html>

